
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Gitsheets is the toolkit for distributed recordkeeping that lives inside Git">
      
      
        <meta name="author" content="Jarvus Innovations">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.4">
    
    
      
        <title>Path templates - Gitsheets Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bb3983ee.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#ffa724">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="orange" data-md-color-accent="deep-purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#path-templates" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Gitsheets Documentation" class="md-header__button md-logo" aria-label="Gitsheets Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Gitsheets Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Path templates
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/JarvusInnovations/gitsheets/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Getting Started
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="./" class="md-tabs__link md-tabs__link--active">
      Path templates
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../advanced-layouts/" class="md-tabs__link">
      Advanced repository layouts
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../canonical-sorting/" class="md-tabs__link">
      Canonical sorting
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../cli/" class="md-tabs__link">
        Command Line Interface
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../nodejs/" class="md-tabs__link">
        NodeJS Module
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../quick-demo/" class="md-tabs__link">
      Quick demo
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Gitsheets Documentation" class="md-nav__button md-logo" aria-label="Gitsheets Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Gitsheets Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/JarvusInnovations/gitsheets/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Path templates
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Path templates
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#single-field-unique-key" class="md-nav__link">
    Single-field unique key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multi-field-unique-key" class="md-nav__link">
    Multi-field unique key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharding-paths" class="md-nav__link">
    Sharding paths
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamically-sharding-paths" class="md-nav__link">
    Dynamically sharding paths
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#annotated-paths" class="md-nav__link">
    Annotated paths
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nested-path-fields" class="md-nav__link">
    Nested path fields
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../advanced-layouts/" class="md-nav__link">
        Advanced repository layouts
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../canonical-sorting/" class="md-nav__link">
        Canonical sorting
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Command Line Interface
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Command Line Interface" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Command Line Interface
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/examples/" class="md-nav__link">
        Examples
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          NodeJS Module
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="NodeJS Module" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          NodeJS Module
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nodejs/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../quick-demo/" class="md-nav__link">
        Quick demo
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#single-field-unique-key" class="md-nav__link">
    Single-field unique key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multi-field-unique-key" class="md-nav__link">
    Multi-field unique key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharding-paths" class="md-nav__link">
    Sharding paths
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamically-sharding-paths" class="md-nav__link">
    Dynamically sharding paths
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#annotated-paths" class="md-nav__link">
    Annotated paths
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nested-path-fields" class="md-nav__link">
    Nested path fields
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/JarvusInnovations/gitsheets/edit/master/docs/path-templates.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


<h1 id="path-templates">Path templates<a class="headerlink" href="#path-templates" title="Permanent link"> ¶</a></h1>
<p>Path templates are the key to how Gitsheets works. They define how each sheet maps records into a tree of files.</p>
<p>In addition to teaching Gitsheets how to store records, path templates also inform how they are queried. Gitsheets attempts to load as little of the tree as possible while executing a query by rendering the path from left to right against the query. This means that essentially, your path template is also your indexing and sharding strategy. This has little practical performance implication for sets of records in the 10s and 100s, but can become significant beyond that.</p>
<h2 id="single-field-unique-key">Single-field unique key<a class="headerlink" href="#single-field-unique-key" title="Permanent link"> ¶</a></h2>
<p>The simplest case is one where each record already has a single unique text field.</p>
<div class="tabbed-set" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">.gitsheets/users.toml</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="k">[gitsheet]</span><span class="w"></span>
<span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;users&quot;</span><span class="w"></span>
<span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;${{ username }}&quot;</span><span class="w"></span>
</code></pre></div>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">users/GrandmaCOBOL.toml</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="n">first_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Grace&quot;</span><span class="w"></span>
<span class="n">last_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hopper&quot;</span><span class="w"></span>
<span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GrandmaCOBOL&quot;</span><span class="w"></span>
</code></pre></div>
</div>
<input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><label for="__tabbed_1_3">Try it</label><div class="tabbed-content">
<p>Declare the <code>users</code> sheet:</p>
<div class="highlight"><pre><span></span><code>mkdir -p .gitsheets/
<span class="nb">echo</span> <span class="s1">&#39;[gitsheet]</span>
<span class="s1">root = &quot;users&quot;</span>
<span class="s1">path = &quot;${{ username }}&quot;&#39;</span> &gt; .gitsheets/users.toml
</code></pre></div>
<p>Upsert a user:</p>
<div class="highlight"><pre><span></span><code>git sheet upsert users <span class="s1">&#39;{</span>
<span class="s1">    &quot;username&quot;: &quot;GrandmaCOBOL&quot;,</span>
<span class="s1">    &quot;first_name&quot;: &quot;Grace&quot;,</span>
<span class="s1">    &quot;last_name&quot;: &quot;Hopper&quot;</span>
<span class="s1">}&#39;</span>
</code></pre></div>
<p>Query a user:</p>
<div class="highlight"><pre><span></span><code>git sheet query users --filter.username<span class="o">=</span>GrandmaCOBOL
</code></pre></div>
</div>
</div>
<h2 id="multi-field-unique-key">Multi-field unique key<a class="headerlink" href="#multi-field-unique-key" title="Permanent link"> ¶</a></h2>
<p>If one field is not enough to create a unique path, a composite key can be configured by combining multiple path components:</p>
<div class="tabbed-set" data-tabs="2:4"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><label for="__tabbed_2_1">.gitsheets/domain-users.toml</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="k">[gitsheet]</span><span class="w"></span>
<span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;domain-users&quot;</span><span class="w"></span>
<span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;${{ domain }}/${{ username }}&quot;</span><span class="w"></span>
</code></pre></div>
</div>
<input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><label for="__tabbed_2_2">domain-users/af.mil/GrandmaCOBOL.toml</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="n">domain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;af.mil&quot;</span><span class="w"></span>
<span class="n">first_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Grace&quot;</span><span class="w"></span>
<span class="n">last_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hopper&quot;</span><span class="w"></span>
<span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GrandmaCOBOL&quot;</span><span class="w"></span>
</code></pre></div>
</div>
<input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><label for="__tabbed_2_3">domain-users/yale.edu/GrandmaCOBOL.toml</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="n">domain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;yale.edu&quot;</span><span class="w"></span>
<span class="n">first_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Grace&quot;</span><span class="w"></span>
<span class="n">last_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hopper&quot;</span><span class="w"></span>
<span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;GrandmaCOBOL&quot;</span><span class="w"></span>
</code></pre></div>
</div>
<input id="__tabbed_2_4" name="__tabbed_2" type="radio" /><label for="__tabbed_2_4">Try it</label><div class="tabbed-content">
<p>Declare the <code>domain-users</code> sheet:</p>
<div class="highlight"><pre><span></span><code>mkdir -p .gitsheets/
<span class="nb">echo</span> <span class="s1">&#39;[gitsheet]</span>
<span class="s1">root = &quot;domain-users&quot;</span>
<span class="s1">path = &quot;${{ domain }}/${{ username }}&quot;&#39;</span> &gt; .gitsheets/domain-users.toml
</code></pre></div>
<p>Upsert multiple users:</p>
<div class="highlight"><pre><span></span><code>git sheet upsert domain-users <span class="s1">&#39;[</span>
<span class="s1">    {</span>
<span class="s1">        &quot;username&quot;: &quot;GrandmaCOBOL&quot;,</span>
<span class="s1">        &quot;domain&quot;: &quot;yale.edu&quot;,</span>
<span class="s1">        &quot;first_name&quot;: &quot;Grace&quot;,</span>
<span class="s1">        &quot;last_name&quot;: &quot;Hopper&quot;</span>
<span class="s1">    },</span>
<span class="s1">    {</span>
<span class="s1">        &quot;username&quot;: &quot;GrandmaCOBOL&quot;,</span>
<span class="s1">        &quot;domain&quot;: &quot;af.mil&quot;,</span>
<span class="s1">        &quot;first_name&quot;: &quot;Grace&quot;,</span>
<span class="s1">        &quot;last_name&quot;: &quot;Hopper&quot;</span>
<span class="s1">    }</span>
<span class="s1">]&#39;</span>
</code></pre></div>
<p>Query multiple users:</p>
<div class="highlight"><pre><span></span><code>git sheet query users --filter.username<span class="o">=</span>GrandmaCOBOL
</code></pre></div>
<p>Query unique user by domain:</p>
<div class="highlight"><pre><span></span><code>git sheet query users --filter.username<span class="o">=</span>GrandmaCOBOL --filter.domain<span class="o">=</span>af.mil
</code></pre></div>
</div>
</div>
<h2 id="sharding-paths">Sharding paths<a class="headerlink" href="#sharding-paths" title="Permanent link"> ¶</a></h2>
<p>Path components need not contribute to the path&rsquo;s uniqueness, the can also be used just to organize records either for easier human browsing or to spread the records over multiple subtrees for improved query performance. Smaller trees can be loaded and searched faster, and any fields you&rsquo;re likely to often filter queries with can be acted on without loading and parsing the record if they&rsquo;re part of the path:</p>
<div class="tabbed-set" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><label for="__tabbed_3_1">.gitsheets/students.toml</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="k">[gitsheet]</span><span class="w"></span>
<span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;students&quot;</span><span class="w"></span>
<span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;${{ graduation_year }}/${{ status }}/${{ student_id }}&quot;</span><span class="w"></span>
</code></pre></div>
</div>
</div>
<h2 id="dynamically-sharding-paths">Dynamically sharding paths<a class="headerlink" href="#dynamically-sharding-paths" title="Permanent link"> ¶</a></h2>
<p>Because TOML has an explicit date type, and arbitrary JavaScript expressions can be used in path templates, you can do something like this to organize records by date:</p>
<div class="tabbed-set" data-tabs="4:1"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><label for="__tabbed_4_1">.gitsheets/blog-posts.toml</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="k">[gitsheet]</span><span class="w"></span>
<span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;blog-posts&quot;</span><span class="w"></span>
<span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;${{ published_at.getYear() }}/${{ published_at.getMonth() }}/${{ published_at.getDate() }}/${{ slug }}&quot;</span><span class="w"></span>
</code></pre></div>
</div>
</div>
<h2 id="annotated-paths">Annotated paths<a class="headerlink" href="#annotated-paths" title="Permanent link"> ¶</a></h2>
<p>Prefixes, suffixes, and static path components can be used to add clarity for human readers:</p>
<div class="tabbed-set" data-tabs="5:1"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><label for="__tabbed_5_1">.gitsheets/todos.toml</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="k">[gitsheet]</span><span class="w"></span>
<span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;todos&quot;</span><span class="w"></span>
<span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;by-user/user-${{ userId }}/${{ id }}&quot;</span><span class="w"></span>
</code></pre></div>
</div>
</div>
<h2 id="nested-path-fields">Nested path fields<a class="headerlink" href="#nested-path-fields" title="Permanent link"> ¶</a></h2>
<p>If a field may contain <code>/</code> characters internally, they can be used to build paths:</p>
<div class="tabbed-set" data-tabs="6:1"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><label for="__tabbed_6_1">.gitsheets/content.toml</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="k">[gitsheet]</span><span class="w"></span>
<span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;content&quot;</span><span class="w"></span>
<span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;${{ path/** }}&quot;</span><span class="w"></span>
</code></pre></div>
</div>
</div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Getting Started" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Getting Started
            </div>
          </div>
        </a>
      
      
        
        <a href="../advanced-layouts/" class="md-footer__link md-footer__link--next" aria-label="Next: Advanced repository layouts" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Advanced repository layouts
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2020 Jarvus Innovations
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.361d90f1.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.289a2a4b.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@8.5.0/dist/mermaid.min.js"></script>
      
    
  </body>
</html>